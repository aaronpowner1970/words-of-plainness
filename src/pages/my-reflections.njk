---
layout: layouts/page.njk
title: My Reflections & Goals
pageTitle: My Reflections & Goals
pageSubtitle: Your personal journal across all chapters
permalink: /my-reflections/
---

<link rel="stylesheet" href="/css/my-reflections.css?v={{ site.version }}">

<!-- Auth Gate (shown when not logged in) -->
<section class="mr-auth-gate" id="dashboardAuthGate">
    <div class="mr-auth-card">
        <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 20h9"/>
            <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
        </svg>
        <h2>Your Reflections Await</h2>
        <p>Sign in to view your personal reflections and track your spiritual goals across all chapters.</p>
        <button class="mr-btn-primary" id="dashboardSignIn">Sign In</button>
    </div>
</section>

<!-- Dashboard (shown when logged in) -->
<div class="mr-dashboard" id="dashboardContent" style="display:none">

    <!-- Summary Section -->
    <section class="mr-summary">
        <div class="mr-scripture">
            <blockquote>"But Mary kept all these things, and pondered them in her heart."</blockquote>
            <cite>— Luke 2:19</cite>
        </div>
        <div class="mr-stats">
            <div class="mr-stat-card">
                <span class="mr-stat-number" id="statTotalReflections">—</span>
                <span class="mr-stat-label">Total Reflections</span>
            </div>
            <div class="mr-stat-card">
                <span class="mr-stat-number" id="statChaptersCount">—</span>
                <span class="mr-stat-label">Chapters with Reflections</span>
            </div>
            <div class="mr-stat-card">
                <span class="mr-stat-number" id="statMostRecent">—</span>
                <span class="mr-stat-label">Most Recent</span>
            </div>
        </div>
    </section>

    <!-- Chapter Reflections -->
    <section class="mr-section">
        <h2 class="mr-section-title">Your Reflections by Chapter</h2>
        <div id="chapterAccordion" class="mr-accordion">
            <p class="mr-loading" id="reflectionsLoading">Loading your reflections...</p>
            <p class="mr-empty" id="noReflectionsMsg" style="display:none">
                You haven't recorded any reflections yet. Visit a chapter and use the Personal Reflection section to begin your journal.
            </p>
        </div>
    </section>

    <!-- Goals Section -->
    <section class="mr-section mr-section-alt">
        <div class="mr-section-inner">
            <h2 class="mr-section-title">Personal Goals</h2>
            <p class="mr-section-subtitle">Commitments and aspirations from your study</p>

            <div class="mr-goal-input-row">
                <textarea id="goalInput" class="mr-goal-textarea" placeholder="Write a personal goal or commitment..." rows="2"></textarea>
                <button class="mr-btn-add-goal" id="addGoalBtn">
                    <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                    Add Goal
                </button>
            </div>
            <div id="goalsList" class="mr-goals-list"></div>
            <p class="mr-goals-note">Goals are saved locally on this device.</p>
        </div>
    </section>

    <!-- Export Section -->
    <section class="mr-section mr-export">
        <button class="mr-btn-export" id="exportBtn">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
            Download My Reflections
        </button>
    </section>

</div>

<script src="/js/wop-reflections.js"></script>
<script src="/js/my-reflections.js?v={{ site.version }}"></script>
