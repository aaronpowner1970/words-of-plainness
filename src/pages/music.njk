---
layout: layouts/base.njk
title: Music
description: "Sacred Americana Testimonies — original songs by Aaron Powner, inspired by the themes of each Words of Plainness chapter."
permalink: /music/
---

{% block styles %}
<link rel="stylesheet" href="/css/music.css">
{% endblock %}

<!-- Music Layout (clears fixed header) -->
<div class="music-layout">

<!-- Music Player Wrapper (sticky below header) -->
<div class="music-player-wrapper">
<div class="music-player-bar" id="musicPlayerBar">
    <div class="player-bar-inner">
        <div class="now-playing">
            <span class="now-playing-label">Now Playing:</span>
            <span class="now-playing-title" id="npTitle">Select a song</span>
            <span class="now-playing-chapter" id="npChapter"></span>
        </div>
        <div class="player-controls">
            <button class="player-btn btn-shuffle" id="btnShuffle" title="Shuffle" aria-label="Toggle shuffle">
                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none">
                    <polyline points="16 3 21 3 21 8"></polyline>
                    <line x1="4" y1="20" x2="21" y2="3"></line>
                    <polyline points="21 16 21 21 16 21"></polyline>
                    <line x1="15" y1="15" x2="21" y2="21"></line>
                    <line x1="4" y1="4" x2="9" y2="9"></line>
                </svg>
            </button>
            <button class="player-btn btn-prev" id="btnPrev" title="Previous track" aria-label="Previous track">
                <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="currentColor">
                    <polygon points="19 20 9 12 19 4 19 20"></polygon>
                    <line x1="5" y1="4" x2="5" y2="20" stroke-width="3"></line>
                </svg>
            </button>
            <button class="player-btn btn-play" id="btnPlay" title="Play" aria-label="Play">
                <svg class="icon-play" viewBox="0 0 24 24" width="28" height="28" fill="currentColor" stroke="none">
                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                </svg>
                <svg class="icon-pause" viewBox="0 0 24 24" width="28" height="28" fill="currentColor" stroke="none" style="display:none">
                    <rect x="5" y="3" width="4" height="18"></rect>
                    <rect x="15" y="3" width="4" height="18"></rect>
                </svg>
            </button>
            <button class="player-btn btn-next" id="btnNext" title="Next track" aria-label="Next track">
                <svg viewBox="0 0 24 24" width="20" height="20" stroke="currentColor" stroke-width="2" fill="currentColor">
                    <polygon points="5 4 15 12 5 20 5 4"></polygon>
                    <line x1="19" y1="4" x2="19" y2="20" stroke-width="3"></line>
                </svg>
            </button>
            <button class="player-btn btn-repeat" id="btnRepeat" title="Repeat: Off" aria-label="Toggle repeat">
                <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none">
                    <polyline points="17 1 21 5 17 9"></polyline>
                    <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                    <polyline points="7 23 3 19 7 15"></polyline>
                    <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                </svg>
                <span class="repeat-badge" id="repeatBadge" style="display:none">1</span>
            </button>
        </div>
        <div class="player-progress">
            <span class="time-current" id="timeCurrent">0:00</span>
            <div class="progress-track" id="progressTrack">
                <div class="progress-fill" id="progressFill"></div>
                <input type="range" class="progress-input" id="progressInput" min="0" max="100" value="0" step="0.1" aria-label="Seek">
            </div>
            <span class="time-total" id="timeTotal">0:00</span>
        </div>
        <div class="player-volume">
            <button class="player-btn btn-volume" id="btnVolume" title="Volume" aria-label="Toggle mute">
                <svg class="icon-vol-on" viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none">
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" fill="currentColor"></polygon>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14"></path>
                    <path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>
                </svg>
                <svg class="icon-vol-mute" viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" style="display:none">
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" fill="currentColor"></polygon>
                    <line x1="23" y1="9" x2="17" y2="15"></line>
                    <line x1="17" y1="9" x2="23" y2="15"></line>
                </svg>
            </button>
            <input type="range" class="volume-input" id="volumeInput" min="0" max="100" value="80" aria-label="Volume">
        </div>
    </div>
    <audio id="musicAudio" preload="metadata"></audio>
</div>
</div>

<!-- Page Content -->
<div class="music-page">
    <div class="music-header">
        <h1 class="music-title">Sacred Americana Testimonies</h1>
        <p class="music-subtitle">Original songs by Aaron Powner, inspired by the themes of each chapter</p>
        <p class="music-intro-note">Each chapter's musical testimony is an original song inspired by its themes. Some chapters have alternate arrangements — tap "More Versions" on any song to explore them.</p>
    </div>

    <details class="music-lyrics-panel" id="lyricsPanel">
        <summary>View Lyrics</summary>
        <div class="lyrics-content" id="lyricsContent">
            <p class="no-lyrics">Select a song to view lyrics</p>
        </div>
    </details>

    <div class="playlist-container">
        <table class="playlist-table" id="playlistTable">
            <thead>
                <tr>
                    <th class="col-play" aria-label="Play"></th>
                    <th class="col-num">#</th>
                    <th class="col-title">Title</th>
                    <th class="col-description">Theme</th>
                    <th class="col-chapter">Chapter</th>
                    <th class="col-duration">Duration</th>
                    <th class="col-download" aria-label="Download"></th>
                </tr>
            </thead>
            <tbody>
                {%- for chapter in collections.chapters -%}
                {%- if chapter.data.audio and chapter.data.audio.testimony and chapter.data.audio.testimony.file -%}
                <tr class="playlist-row"
                    data-src="/assets/audio/{{ chapter.data.audio.testimony.file }}"
                    data-title="{{ chapter.data.audio.testimony.title }}"
                    data-chapter="Chapter {{ chapter.data.chapter }}: {{ chapter.data.title }}"
                    data-chapter-url="{{ chapter.url }}"
                    data-lyrics="{{ chapter.data.lyrics | escape if chapter.data.lyrics else '' }}">
                    <td class="col-play">
                        <button class="btn-row-play" aria-label="Play {{ chapter.data.audio.testimony.title }}">
                            <svg class="icon-play" viewBox="0 0 24 24" width="18" height="18" fill="currentColor" stroke="none">
                                <polygon points="6 3 20 12 6 21 6 3"></polygon>
                            </svg>
                            <svg class="icon-pause" viewBox="0 0 24 24" width="18" height="18" fill="currentColor" stroke="none" style="display:none">
                                <rect x="5" y="3" width="5" height="18"></rect>
                                <rect x="14" y="3" width="5" height="18"></rect>
                            </svg>
                            <svg class="icon-eq" viewBox="0 0 24 24" width="18" height="18" fill="currentColor" stroke="none" style="display:none">
                                <rect x="4" y="14" width="3" height="6" rx="1"></rect>
                                <rect x="10.5" y="8" width="3" height="12" rx="1"></rect>
                                <rect x="17" y="11" width="3" height="9" rx="1"></rect>
                            </svg>
                        </button>
                    </td>
                    <td class="col-num">{{ chapter.data.chapter }}</td>
                    <td class="col-title">
                        <span class="song-title">{{ chapter.data.audio.testimony.title }}</span>
                    </td>
                    <td class="col-description">{{ chapter.data.audio.testimony.description }}</td>
                    <td class="col-chapter">
                        <a href="{{ chapter.url }}" class="chapter-link">Ch. {{ chapter.data.chapter }}</a>
                    </td>
                    <td class="col-duration" data-duration>—</td>
                    <td class="col-download">
                        <a href="/assets/audio/{{ chapter.data.audio.testimony.file }}" download class="btn-download" title="Download" aria-label="Download {{ chapter.data.audio.testimony.title }}">
                            <svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                        </a>
                    </td>
                </tr>
                {%- if chapter.data.audio.testimony.alternates and chapter.data.audio.testimony.alternates.length > 0 -%}
                <tr class="alt-versions-row">
                    <td colspan="7">
                        <button class="alt-toggle" aria-expanded="false">
                            <span class="alt-toggle-arrow">&#9656;</span>
                            More Versions ({{ chapter.data.audio.testimony.alternates.length }})
                        </button>
                        <div class="alt-list">
                            {%- for alt in chapter.data.audio.testimony.alternates -%}
                            <div class="alt-entry" data-src="/assets/audio/{{ alt.file }}">
                                <span class="alt-label">{{ alt.label }}</span>
                                <div class="alt-player">
                                    <button class="alt-play-btn" aria-label="Play {{ alt.label }}">
                                        <svg class="icon-play" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" stroke="none">
                                            <polygon points="6 3 20 12 6 21 6 3"></polygon>
                                        </svg>
                                        <svg class="icon-pause" viewBox="0 0 24 24" width="16" height="16" fill="currentColor" stroke="none" style="display:none">
                                            <rect x="5" y="3" width="5" height="18"></rect>
                                            <rect x="14" y="3" width="5" height="18"></rect>
                                        </svg>
                                    </button>
                                    <div class="alt-progress-track">
                                        <div class="alt-progress-fill"></div>
                                        <input type="range" class="alt-seek" min="0" max="100" value="0" step="0.1" aria-label="Seek {{ alt.label }}">
                                    </div>
                                    <span class="alt-time">0:00</span>
                                </div>
                            </div>
                            {%- endfor -%}
                        </div>
                    </td>
                </tr>
                {%- endif -%}
                {%- endif -%}
                {%- endfor -%}
            </tbody>
        </table>
    </div>

    <div class="music-footer">
        <p>Each chapter of <a href="/writings/">Words of Plainness</a> includes a musical testimony — an original song inspired by the themes explored in that chapter.</p>
        <p>All music written and produced by Aaron Powner.</p>
    </div>
</div>

</div><!-- /.music-layout -->

{% block scripts %}
<script src="/js/music-player.js"></script>
{% endblock %}
