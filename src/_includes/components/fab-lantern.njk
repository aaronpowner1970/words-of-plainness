{# Mobile Floating Action Button - Lantern Icon #}

<button class="fab-lantern" id="fabLantern" aria-label="Quick actions menu">
    <svg viewBox="0 0 24 24" width="28" height="28" fill="currentColor">
        <path d="M8 2h8v2H8V2zm-1 4h10l1 3v1h-1v8c0 1-1 2-2 2h-6c-1 0-2-1-2-2v-8H6V9l1-3zm3 5v6h4v-6h-4z"/>
    </svg>
</button>

<!-- Mobile FAB Bottom Sheet -->
<div class="fab-sheet-overlay" id="fabSheetOverlay"></div>
<div class="fab-sheet" id="fabSheet" role="dialog" aria-label="Learning Tools">
    <div class="fab-sheet-header">
        <div class="fab-sheet-handle"></div>
        <span class="fab-sheet-title">Learning Tools</span>
        <button class="fab-sheet-close" id="fabSheetClose" aria-label="Close">
            <svg viewBox="0 0 24 24" width="22" height="22" stroke="currentColor" stroke-width="2" fill="none">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>
    </div>
    <div class="fab-sheet-body">
        {% if volumeUrl %}
        <a class="fab-sheet-item" href="{{ volumeUrl }}">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline><line x1="9" y1="12" x2="21" y2="12"></line></svg>
            <span>Volume {{ volume }} Contents</span>
        </a>
        <div style="border-top: 1px solid rgba(196,148,58,0.15); margin: 0.25rem 0;"></div>
        {% endif %}
        <button class="fab-sheet-item" data-action="listen">
            <svg viewBox="0 0 24 24" width="22" height="22"><path d="M9 18V5l12-2v13" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="6" cy="18" r="3" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="18" cy="16" r="3" stroke="currentColor" stroke-width="2" fill="none"/></svg>
            <span>Listen to Chapter</span>
        </button>
        <button class="fab-sheet-item" data-action="overview">
            <svg viewBox="0 0 24 24" width="22" height="22"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/><polygon points="10 8 16 12 10 16 10 8" fill="currentColor"/></svg>
            <span>Chapter Podcast</span>
        </button>
        <button class="fab-sheet-item" data-action="testimony">
            <svg viewBox="0 0 24 24" width="22" height="22"><path d="M9 18V5l12-2v13" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="6" cy="18" r="3" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="18" cy="16" r="3" stroke="currentColor" stroke-width="2" fill="none"/></svg>
            <span>Musical Testimony</span>
        </button>
        <button class="fab-sheet-item" data-action="infographic">
            <svg viewBox="0 0 24 24" width="22" height="22"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="8.5" cy="8.5" r="1.5" fill="currentColor"/><polyline points="21 15 16 10 5 21" stroke="currentColor" stroke-width="2" fill="none"/></svg>
            <span>Visual Summary</span>
        </button>
        <button class="fab-sheet-item" data-action="slides">
            <svg viewBox="0 0 24 24" width="22" height="22"><rect x="2" y="3" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2" fill="none"/><line x1="8" y1="21" x2="16" y2="21" stroke="currentColor" stroke-width="2"/><line x1="12" y1="17" x2="12" y2="21" stroke="currentColor" stroke-width="2"/></svg>
            <span>Study Slides</span>
        </button>
        <button class="fab-sheet-item" data-action="toc">
            <svg viewBox="0 0 24 24" width="22" height="22"><line x1="8" y1="6" x2="21" y2="6" stroke="currentColor" stroke-width="2"/><line x1="8" y1="12" x2="21" y2="12" stroke="currentColor" stroke-width="2"/><line x1="8" y1="18" x2="21" y2="18" stroke="currentColor" stroke-width="2"/><line x1="3" y1="6" x2="3.01" y2="6" stroke="currentColor" stroke-width="2"/><line x1="3" y1="12" x2="3.01" y2="12" stroke="currentColor" stroke-width="2"/><line x1="3" y1="18" x2="3.01" y2="18" stroke="currentColor" stroke-width="2"/></svg>
            <span>Table of Contents</span>
        </button>
        <a class="fab-sheet-item" href="/search/">
            <svg viewBox="0 0 24 24" width="22" height="22"><circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2" fill="none"/><line x1="21" y1="21" x2="16.65" y2="16.65" stroke="currentColor" stroke-width="2"/></svg>
            <span>Search All Chapters</span>
        </a>
        <button class="fab-sheet-item" data-action="reflect">
            <svg viewBox="0 0 24 24" width="22" height="22"><path d="M12 20h9" stroke="currentColor" stroke-width="2" fill="none"/><path d="M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z" stroke="currentColor" stroke-width="2" fill="none"/></svg>
            <span>Personal Reflection</span>
        </button>
        <a class="fab-sheet-item" href="/assets/pdf/{{ pdf }}" download>
            <svg viewBox="0 0 24 24" width="22" height="22"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" stroke="currentColor" stroke-width="2" fill="none"/><polyline points="7 10 12 15 17 10" stroke="currentColor" stroke-width="2" fill="none"/><line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/></svg>
            <span>Download PDF</span>
        </a>
        <a class="fab-sheet-item" href="/how-to-use/">
            <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
            <span>How to Use This Website</span>
        </a>
    </div>
</div>
